---
title: 'Xserverで作ったサブドメインを別サーバーで使う際に詰まったこと'
date: '2023-11-18'
---

当ブログはXserverで作ったサブドメインを使用し、AWSでAmplifyを使用して運営している。ブログの記事はメインドメインで運用しているWordPressで投稿を行い、コンテンツ管理している。  
この記事では、メインドメインのSSL設定が更新できず、記事が取得できないという問題が発生してから解消するまでに行ったことを残そうと思う。

Xserverの管理画面からSSL更新手続きを行うと、下記のようなエラーになった。

![](/images/スクリーンショット-2023-11-16-18.27.12-1024x910.png)

> DNS参照先サーバが当サーバではない

当ブログを新設する際にXserverのネームサーバー設定をAWSのRoute53で設定したネームに変更していた背景があり、それが原因なのではないかと考えた。

Xserverのネームサーバー設定をXserverのレンタルサーバーに戻してみる。

![](/images/スクリーンショット-2023-09-24-22.31.26.png)

XserverのパネルからSSL設定を選択し、対象のメインドメインのSSLを更新してみる。

![](/images/スクリーンショット-2023-11-18-22.04.59-1024x583.png)

SSL更新が完了し、サブドメにアクセスしてみるとXserverのエラー画面になる。  
Xserver側にアクセスがきていることがわかったので、向き先を変えたい・・・

![](/images/スクリーンショット-2023-11-18-18.24.56.png)

XserverのサーバーパネルからDNSレコード設定を選択し、対象のドメインのDNSレコードを追加していく。

参考 : [DNSレコードの編集](https://www.xserver.ne.jp/manual/man_domain_dns_setting.php)

![](/images/スクリーンショット-2023-11-18-20.31.02-1024x584.png)

タブメニューからDNSレコード追加を選択し、ホスト名・種別・内容・TTLに必要情報を記入する。  
種別にはAコード選択し、内容にアクセスさせたいIPアドレスを入力する。  
参考: [【徹底解説】Aレコードとは？設定方法やCNAMEとの違いを紹介！](https://www.value-domain.com/media/a-record/)

![](/images/スクリーンショット-2023-11-18-20.31.34-1024x583.png)

## 参考記事

[Xserverにサブドメインを作成して、別サーバーを参照させる方法](https://hazimaru.jp/2343/#google_vignette)

[Xserverで作ったサブドメインを別サーバーで使う方法まとめ](https://baacash.com/subdomain/)

[外部ブログを設定する場合](https://www.xserver.ne.jp/manual/man_domain_dns_setting_blog.php)
